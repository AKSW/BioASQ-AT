<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->


        <title>BioASQ - search</title>
        <!-- Bootstrap -->
        <link href="./css/bootstrap.min.css" rel="stylesheet">
        <link href="./css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="./css/main.css" rel="stylesheet">

        <!-- javascript -->
        <script data-main="./js/search" src="./js-libs/require-jquery.js"></script>
    </head>
    <body>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <img class="brand logo-top" src="img/BioASQ_logo.png">
                    <a class="btn btn-small btn-primary pull-left userButton" href="user.html"><i class="icon-user"></i></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                            <li><a href="createQuestion.html">Questions</a></li>
                            <li class="divider"><a>|</a></li>
                            <li class="active"><a href="#">Search</a></li>
                            <li class="divider"><a>|</a></li>
                            <li><a href="#" id="doneButton">Answer</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                    <a class="btn btn-small btn-warning pull-right" href="#" id="editQuestionTitle"><i class="icon-edit"></i></a>
                    <a class="btn btn-small btn-success pull-right" href="#" style="display:none" id="saveQuestionTitle"><i class="icon-ok"></i></a>
                    <textarea rows="1" class="pull-right" style="margin-top: 6px; display:none;" id="questionTitleInput"></textarea>
                    <p class="navbar-text pull-right" data-toggle="tooltip" data-placement="bottom" id="questionTitle"></p>
                </div>
            </div>
        </div>

        <div class="container">
            <!-- Search box and results -->
            <div class="row">
                <div class="span6">
                    <input class="span5" type="text" placeholder="Query &hellip;" style="margin-bottom: 0px;" id="searchQuery">
                    <button class="btn" type="button" id="searchButton">Search</button>
                </div>
                <div class="span2"></div>
                <div class="span4">
                    <select class="span4" name="results" id="results" style="margin-bottom: 0px;"></select>
                </div>
            </div>
            <hr/>

            <!-- concept search results -->
            <div class="results-container">
                <div class="row search-source" id="conceptsResult" style="display: none;">
                    <div class="span9 result-header" data-name="Concepts">
                        Concepts
                    </div>
                    <div class="span3">
                        <a href="#" id="toggleConcepts" data-state="hidden">Expand</a>
                    </div>
                </div>
            </div>
            <!-- concept search indicatior -->
            <div class="row search-indicator" style="padding: 10px; display: none;">
                <div class="span12" id="conceptProgress">
                    <p style="padding-left: 20px; margin-top: -10px;">Loading concepts &hellip;<p>
                </div>
            </div>

            <!-- documents search results -->
            <div class="results-container">
                <div class="row search-source" id="documentsResult" style="display:none;">
                    <div class="span9 result-header" data-name="Documents">
                        Documents
                    </div>
                    <div class="span3">
                        <a href="#" id="toggleDocs" data-state="hidden">Expand</a>
                    </div>
                </div>
            </div>
            <!-- documents search indicatior -->
            <div class="row search-indicator" style="padding: 10px; display: none;">
                <div class="span12" id="documentsProgress">
                    <p style="padding-left: 20px; margin-top: -10px;">Loading documents &hellip;<p>
                </div>
            </div>

            <!-- statements search results -->
            <div class="results-container">
                <div class="row search-source" id="statementsResult" style="display:none;">
                    <div class="span9 result-header" data-name="Statements">
                        Statements
                    </div>
                    <div class="span3">
                        <a href="#" id="toggleStatements" data-state="hidden">Expand</a>
                    </div>
                </div>
            </div>
            <!-- statements search indicatior -->
            <div class="row search-indicator" style="padding: 10px; display: none;">
                <div class="span12" id="statementsProgress">
                    <p style="padding-left: 20px; margin-top: -10px;">Loading statements &hellip;<p>
                </div>
            </div>
        </div> <!-- /container -->

        <!-- TEMPLATES -->

        <!-- ANSWER ENTRY TEMPLATE -->
        <script id="answerTemplate" type="text/x-handlebars-template">
            <option value="{{_internalID}}">{{title}}</option>
        </script>

        <!-- search source results row -->
        <script id="searchResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result {{domClass}}" data-id="{{_internalID}}">
                <div class="span8 offset1">
                    {{title}}
                    <a class="more-info" href="#"><i class="icon-info-sign"></i></a>
                </div>
                <div class="span2">
                    <a href="{{uri}}" target="_blank"><i class="icon-file"></i></a>
                    {{#if selected}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-minus"></i></a>
                    {{else}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-plus"></i></a>
                    {{/if}}
                </div>
            </div>
            <div class="row search-result separator {{domClass}}"></div>
        </script>

        <!-- search source results row for concepts -->
        <script id="searchResultConceptTemplate" type="text/x-handlebars-template">
            <div class="row search-result {{domClass}}" data-id="{{_internalID}}">
                <div class="span8 offset1">
                    {{title}}&nbsp;&nbsp;({{source}})
                    <a class="more-info" href="#"><i class="icon-info-sign"></i></a>
                </div>
                <div class="span2">
                    <a href="{{uri}}" target="_blank"><i class="icon-file"></i></a>
                    {{#if selected}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-minus"></i></a>
                    {{else}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-plus"></i></a>
                    {{/if}}
                </div>
            </div>
            <div class="row search-result separator {{domClass}}"></div>
        </script>

        <!-- search source results row for statements -->
        <script id="statementSearchResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result {{domClass}}" data-id="{{_internalID}}">
                <div class="span8 offset1">
                    {{title}}
                    <a class="more-info" href="#"><i class="icon-info-sign"></i></a>
                </div>
                <div class="span2">
                    {{#if selected}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-minus"></i></a>
                    {{else}}
                      <a href="#" data-id="{{_internalID}}" class="addremove"><i class="icon-plus"></i></a>
                    {{/if}}
                </div>
            </div>
            <div class="row search-result separator {{domClass}}"></div>
        </script>

        <!-- concept more info -->
        <script id="extendedConceptResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result-info">
                <div class="span9 offset3">Score: {{score}}</div>
                <div class="span9 offset3">URI: <code>{{uri}}</code></div>
            </div>
        </script>

        <!-- document more info -->
        <script id="extendedDocumentResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result-info">
                <div class="span7 offset3">
                    <h4>{{title}}</h4>
                </div>
                <div class="span7 offset3">
                    {{#each sections}}
                        <p>{{this}}</p>
                    {{/each}}
                </div>
            </div>
        </script>

        <!-- statement more info -->
        <script id="extendedStatementResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result-info">
              <div class="span7 offset3">
                &lt;{{s}}&gt;
              </div>
              <div class="span7 offset3">
                &lt;{{p}}&gt;
              </div>
              <div class="span7 offset3">
                &quot;{{o}}&quot; .
              </div>
            </div>
        </script>

        <!-- search subrow info -->
        <script id="extendedSearchResultTemplate" type="text/x-handlebars-template">
            <div class="row search-result-info">
                <div class="span7 offset2">
                    <h4>Abstract:</h4>
                    <p>{{abstract}}</p>
                </div>
                <div class="span2">
                    <h4>Authors:</h4>
                    <p>{{authors}}</p>
                </div>
            </div>
        </script>

        <!-- pagination template -->
        <script id="paginationTemplate" type="text/x-handlebars-template">
            <div class="row search-result {{rclass}}">
                <div class="span5 offset1">
                    <div class="pagination {{rclass}}" style="display:none" data-section-name="{{section}}">
                        <ul>
                            <li><a class="prev" style="width:2em;text-align:center" href="#">&larr;</a></li>
                            {{#each pages}}
                                {{#if this.active}}
                                    <li class="active"><a href="#">{{this.name}}</a></li>
                                {{else}}
                                  {{#if this.disabled}}
                                    <li class="disabled"><a href="#">{{this.name}}</a></li>
                                  {{else}}
                                    <li><a href="#">{{this.name}}</a></li>
                                  {{/if}}
                                {{/if}}
                            {{/each}}
                            <li><a class="next" style="width:2em;text-align:center" href="#">&rarr;</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </script>

        <!-- source selection template -->
        <script id="sourceSelectionTemplate" type="text/x-handlebars-template">
            <div class="row search-result {{rclass}}" style="display:none">
                <div class="span5 offset1">
                    <div class="btn-group" style="margin:15px 0">
                        {{#each sources}}
                            {{#if active}}
                                <button button-toggle="active" class="btn source-toggle active btn-primary">{{name}}</button>
                            {{else}}
                                <button button-toggle="active" class="btn source-toggle">{{name}}</button>
                            {{/if}}
                        {{/each}}
                    </div>
                </div>
            </div>
        </script>
    </body>
</html>
