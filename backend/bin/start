#!/usr/bin/env node

var
  util = require('util'),
  path = require('path'),
  config = require(path.join(__dirname, '..', 'config')).defaults;

var options = {
  'port': config.server.port,
  'database': {
    'host': config.database.host,
    'port': config.database.port,
    'name': config.database.name
  }
};

var server = require(path.join('..', 'src', 'server.js'));
server.start(options, function (err, server) {
  if (err) {
    return util.puts('Error starting annotation server: ' + err.message);
  }

  util.puts('Annotation server listening on http://127.0.0.1:' + options.port);
});

